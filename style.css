:root {
    --bg-dark: #111827;       /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© Ø¬Ø¯Ø§Ù‹ */
    --bg-card: #1f2937;       /* Ù„ÙˆÙ† Ø§Ù„ÙƒØ±ÙˆØª */
    --primary: #10b981;       /* Ø£Ø®Ø¶Ø± Ø±ÙŠØ§Ø¶ÙŠ */
    --primary-glow: rgba(16, 185, 129, 0.3);
    --accent: #3b82f6;        /* Ø£Ø²Ø±Ù‚ Ù„Ù„ØªØ­Ø¯ÙŠØ§Øª */
    --text-main: #f9fafb;
    --text-muted: #9ca3af;
    --border: rgba(255,255,255,0.08);
    --font-main: 'Tajawal', sans-serif;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
body {
    font-family: var(--font-main);
    background-color: var(--bg-dark);
    color: var(--text-main);
    margin: 0; padding: 0;
    overflow-x: hidden;
    padding-bottom: 80px; 
}

/* Auth Screen */
.full-screen-overlay {
    position: fixed; inset: 0; z-index: 2000;
    background: var(--bg-dark);
    display: flex; align-items: center; justify-content: center;
    padding: 20px;
}
.auth-box { width: 100%; max-width: 350px; text-align: center; }
.logo-area h1 { margin: 0; font-size: 42px; font-weight: 900; letter-spacing: -1px; }
.accent-text { color: var(--primary); }
.form-group { margin-top: 40px; display: flex; flex-direction: column; gap: 12px; }

/* Inputs & Buttons */
input, select {
    width: 100%; padding: 16px; 
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    border-radius: 12px;
    color: #fff; font-family: inherit; font-size: 16px;
    outline: none; transition: 0.3s;
}
input:focus { border-color: var(--primary); background: rgba(16,185,129,0.05); }

.btn {
    width: 100%; padding: 16px; border-radius: 12px;
    border: none; font-weight: 700; font-size: 16px; cursor: pointer;
    font-family: inherit; display: flex; justify-content: center; align-items: center;
}
.btn-primary { background: var(--primary); color: #000; box-shadow: 0 4px 20px var(--primary-glow); }
.btn-text { background: transparent; color: var(--text-muted); font-size: 13px; }
.btn-outline-danger { background: transparent; border: 1px solid #ef4444; color: #ef4444; }

/* ==================== Premium Glass Header (UPDATED) ==================== */
.glass-header {
    position: sticky; 
    top: 0; 
    z-index: 1000; 
    background: rgba(17, 24, 39, 0.6); 
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    
    /* ğŸ”¥ iPhone Safe Area Solution ğŸ”¥ */
    padding-top: calc(15px + env(safe-area-inset-top)); 
    padding-bottom: 15px;
    padding-left: 20px;
    padding-right: 20px;
    
    transition: 0.3s ease;
}

.header-inner { 
    display: flex; justify-content: space-between; align-items: center; 
}

.header-right {
    display: flex; align-items: center; gap: 15px; 
}

/* Logo */
.brand-logo {
    height: 55px; 
    width: auto;
    object-fit: contain;
    border: none; border-radius: 0; background: transparent; box-shadow: none;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.4));
    transition: transform 0.3s;
}
.brand-logo:active { transform: scale(0.95); }

/* Greeting */
.user-greeting-box { display: flex; flex-direction: column; justify-content: center; }
.hello-text { 
    font-size: 11px; color: var(--primary); font-weight: bold;
    letter-spacing: 0.5px; margin-bottom: 2px;
}
.user-greeting-box h3 {
    margin: 0; font-size: 15px; font-weight: 800; color: #fff; line-height: 1.2;
    max-width: 160px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Header Icons */
.header-actions {
    display: flex; align-items: center; gap: 8px;
    background: rgba(255,255,255,0.05); padding: 6px;
    border-radius: 50px; border: 1px solid rgba(255,255,255,0.05);
}
.icon-badge {
    width: 38px; height: 38px; display: flex; align-items: center; justify-content: center;
    border-radius: 50%; color: #fff; cursor: pointer; transition: 0.2s; position: relative;
}
.icon-badge:active { background: rgba(255,255,255,0.1); transform: scale(0.9); }
.icon-badge i { font-size: 20px; }

/* Add Button in Header */
.icon-badge.add-btn {
    background: var(--primary); color: #000;
    box-shadow: 0 0 10px var(--primary-glow); margin-left: 0;
}

/* Main Views */
.view { display: none; animation: fadeIn 0.3s ease; padding: 20px; }
.view.active { display: block; }
@keyframes fadeIn { from {opacity:0; transform:translateY(5px);} to {opacity:1; transform:translateY(0);} }

/* Cards */
.status-card {
    background: linear-gradient(135deg, var(--bg-card), rgba(31, 41, 55, 0.5));
    border: 1px solid var(--border); border-radius: 20px;
    padding: 20px; margin-bottom: 20px;
}
.status-header { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 13px; color: var(--text-muted); }
.rank-badge { background: rgba(245,158,11,0.2); color: #f59e0b; padding: 2px 8px; border-radius: 6px; font-size: 10px; font-weight: bold; }

.stats-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; text-align: center; }
.stat-val { display: block; font-size: 20px; font-weight: 900; color: var(--text-main); }
.stat-lbl { font-size: 10px; color: var(--text-muted); }

/* Tabs */
.tabs-nav { display: flex; background: var(--bg-card); padding: 4px; border-radius: 12px; margin-bottom: 20px; }
.tab-item { flex: 1; text-align: center; padding: 10px; font-size: 13px; border-radius: 8px; color: var(--text-muted); cursor: pointer; }
.tab-item.active { background: var(--bg-dark); color: var(--text-main); font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn 0.3s; }

/* Bottom Nav */
.bottom-nav {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: rgba(17, 24, 39, 0.95);
    backdrop-filter: blur(10px);
    border-top: 1px solid var(--border);
    display: flex; justify-content: space-around;
    padding: 12px 0 25px 0;
    z-index: 900;
}
.nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; color: #6b7280; font-size: 10px; cursor: pointer; transition: 0.2s; }
.nav-item i { font-size: 24px; }
.nav-item.active { color: var(--primary); transform: translateY(-3px); }

/* Modals */
.modal-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 3000;
    display: none; align-items: center; justify-content: center; backdrop-filter: blur(4px);
}
.modal-box { background: var(--bg-card); width: 90%; max-width: 400px; padding: 25px; border-radius: 20px; border: 1px solid var(--border); }
.input-row { display: flex; gap: 10px; margin: 15px 0; }
.input-wrap { flex: 1; }
.input-wrap label { display: block; font-size: 11px; color: var(--text-muted); margin-bottom: 5px; }

/* Utilities */
.error-msg { color: #ef4444; font-size: 12px; margin-top: 10px; text-align: center; }
.challenges-grid { display: grid; gap: 15px; }

/* Leaderboard */
.rank-list { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
.leader-row {
    background: rgba(255,255,255,0.03); border: 1px solid var(--border);
    border-radius: 12px; padding: 12px;
    display: flex; align-items: center; gap: 12px; transition: 0.2s;
}
.rank-col { font-size: 18px; font-weight: bold; width: 30px; text-align: center; }
.avatar-col {
    width: 36px; height: 36px; background: var(--bg-card);
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    font-weight: bold; color: var(--primary); border: 1px solid var(--border);
}
.info-col { flex: 1; }
.info-col .name { font-size: 13px; font-weight: bold; color: var(--text-main); }
.info-col .region { font-size: 10px; color: var(--text-muted); }
.dist-col { font-weight: 800; color: var(--accent); font-size: 14px; }

.filter-bar { display: flex; gap: 10px; margin-bottom: 15px; }
.filter-btn {
    flex: 1; background: transparent; border: 1px solid var(--border);
    color: var(--text-muted); padding: 8px; border-radius: 8px; cursor: pointer;
}
.filter-btn.active { background: var(--primary); color: #000; border-color: var(--primary); }

/* Squads */
.squad-card { margin-bottom: 15px; padding: 10px; }
.squad-header { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 5px; }
.squad-rank { font-weight: bold; color: var(--primary); width: 30px; }
.squad-name { flex: 1; font-weight: bold; }
.squad-total { color: var(--text-muted); font-size: 11px; }
.squad-bar-bg { width: 100%; height: 8px; background: rgba(255,255,255,0.05); border-radius: 10px; overflow: hidden; }
.squad-bar-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); border-radius: 10px; }

/* Profile */
.profile-header-card {
    background: linear-gradient(135deg, var(--bg-card), #111827);
    border: 1px solid var(--border); border-radius: 24px;
    padding: 25px; text-align: center; position: relative; overflow: hidden;
}
.profile-top { position: relative; display: inline-block; margin-bottom: 15px; }
.big-avatar {
    width: 80px; height: 80px; border-radius: 50%;
    background: var(--bg-dark); border: 3px solid var(--primary);
    color: var(--primary); font-size: 32px; font-weight: 900;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 0 20px var(--primary-glow);
}
.btn-icon-edit {
    position: absolute; bottom: 0; right: 0;
    width: 28px; height: 28px; border-radius: 50%;
    background: var(--accent); color: #fff; border: 2px solid var(--bg-card);
    display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 14px;
}
.profile-region-badge {
    display: inline-block; background: rgba(255,255,255,0.05);
    padding: 4px 12px; border-radius: 20px; font-size: 12px; color: var(--text-muted);
    margin-top: 5px; margin-bottom: 20px;
}
.profile-stats-row {
    display: flex; justify-content: space-around;
    border-top: 1px solid var(--border); padding-top: 15px;
}
.p-stat { display: flex; flex-direction: column; }
.p-val { font-size: 18px; font-weight: 800; color: #fff; }
.p-lbl { font-size: 11px; color: var(--text-muted); }

/* Logs */
.log-list { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
.log-card {
    background: rgba(255,255,255,0.03); border: 1px solid var(--border);
    border-radius: 16px; padding: 15px;
    display: flex; justify-content: space-between; align-items: center;
}
.log-info h4 { margin: 0; font-size: 16px; color: #fff; display: flex; align-items: center; gap: 6px; }
.log-meta { font-size: 11px; color: var(--text-muted); margin-top: 4px; display: flex; gap: 10px; }
.btn-delete { background: none; border: none; color: #ef4444; cursor: pointer; padding: 5px; }
.type-icon { font-size: 14px; }
.type-run { color: var(--primary); }
.type-walk { color: var(--accent); }

/* Feed & Actions */
.feed-list { display: flex; flex-direction: column; gap: 15px; padding-bottom: 20px; }
.feed-card {
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: 16px; padding: 15px;
}
.feed-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.feed-user { display: flex; align-items: center; gap: 10px; }
.feed-avatar {
    width: 32px; height: 32px; border-radius: 50%;
    background: #374151; color: #fff;
    display: flex; align-items: center; justify-content: center;
    font-weight: bold; font-size: 12px;
}
.feed-name { font-weight: bold; font-size: 13px; color: var(--text-main); }
.feed-meta { font-size: 10px; color: var(--text-muted); }
.feed-body { font-size: 13px; color: #d1d5db; line-height: 1.5; }
.highlight { color: var(--primary); font-weight: bold; font-size: 14px; }

.feed-actions {
    margin-top: 12px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.05);
    display: flex; gap: 15px; align-items: center;
}
.btn-like {
    background: transparent; border: none; cursor: pointer;
    color: var(--text-muted); font-size: 14px;
    display: flex; align-items: center; gap: 6px; transition: 0.2s;
}
.btn-like:hover { color: #fff; }
.btn-like.liked { color: #ef4444; animation: pop 0.3s ease; }
@keyframes pop { 0%{transform:scale(1);} 50%{transform:scale(1.2);} 100%{transform:scale(1);} }

/* Notifications & Settings */
.notif-list { max-height: 300px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
.notif-item {
    background: rgba(255,255,255,0.03); padding: 12px; border-radius: 12px;
    display: flex; align-items: center; gap: 12px; border: 1px solid var(--border);
}
.notif-icon {
    width: 32px; height: 32px; border-radius: 50%; background: rgba(16, 185, 129, 0.1); color: var(--primary);
    display: flex; align-items: center; justify-content: center;
}
.notif-content { font-size: 12px; color: #fff; flex: 1; }
.badge-dot.active { background-color: #ef4444; width: 8px; height: 8px; border-radius: 50%; position: absolute; top: 0; right: 0; }

.settings-list { display: flex; flex-direction: column; gap: 10px; }
.setting-item {
    display: flex; align-items: center; gap: 15px;
    background: rgba(255,255,255,0.05); border: 1px solid var(--border);
    padding: 15px; border-radius: 12px; width: 100%; text-align: right; cursor: pointer;
    transition: 0.2s; color: #fff;
}
.setting-item:active { transform: scale(0.98); background: rgba(255,255,255,0.1); }
.setting-icon {
    width: 36px; height: 36px; border-radius: 50%;
    background: var(--bg-dark); color: var(--text-muted);
    display: flex; align-items: center; justify-content: center; font-size: 18px;
}
.setting-text { display: flex; flex-direction: column; }
.setting-text span { font-weight: bold; font-size: 14px; }
.setting-text small { font-size: 11px; color: var(--text-muted); margin-top: 2px; }
.setting-item.delete { border-color: rgba(239, 68, 68, 0.3); }
.setting-item.delete .setting-icon { color: #ef4444; }
.setting-item.delete .setting-text { color: #ef4444; }

.admin-card {
    background: rgba(31, 41, 55, 0.5); border: 1px dashed var(--accent);
    padding: 20px; border-radius: 16px;
}
.btn-admin-delete {
    background: rgba(239, 68, 68, 0.2); color: #ef4444;
    border: 1px solid #ef4444; padding: 5px 10px; border-radius: 8px; font-size: 11px; cursor: pointer;
}
.btn-link-proof {
    text-decoration: none; background: rgba(59, 130, 246, 0.15); color: #3b82f6;
    padding: 4px 10px; border-radius: 20px; font-size: 11px;
    display: flex; align-items: center; gap: 4px;
}

/* Gamification & Goals */
.xp-container { padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.1); }
.xp-header { display: flex; justify-content: space-between; font-size: 11px; margin-bottom: 5px; color: var(--text-muted); }
.xp-track { width: 100%; height: 8px; background: rgba(0,0,0,0.3); border-radius: 10px; overflow: hidden; position: relative; }
.xp-fill { height: 100%; width: 0%; background: var(--primary); border-radius: 10px; transition: width 1s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 0 10px currentColor; }
.xp-message { font-size: 10px; color: #9ca3af; margin-top: 6px; text-align: center; }

.rank-mubtadi { color: #9ca3af !important; --rank-color: #9ca3af; }
.rank-hawy    { color: #3b82f6 !important; --rank-color: #3b82f6; }
.rank-runner  { color: #10b981 !important; --rank-color: #10b981; }
.rank-pro     { color: #f59e0b !important; --rank-color: #f59e0b; }
.rank-legend  { color: #8b5cf6 !important; --rank-color: #8b5cf6; }
.rank-legend .xp-fill { animation: glow 1.5s infinite alternate; }
@keyframes glow { from { box-shadow: 0 0 5px #8b5cf6; } to { box-shadow: 0 0 20px #8b5cf6; } }

.goal-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 20px;
    margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;
    cursor: pointer; position: relative; overflow: hidden;
}
.goal-card:active { transform: scale(0.98); background: rgba(255,255,255,0.08); }
.goal-title { font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
.goal-card h3 { margin: 5px 0; font-size: 18px; color: #fff; }
.goal-sub { font-size: 11px; color: #a78bfa; font-weight: bold; }
.goal-ring-wrapper { position: relative; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; }
.goal-ring {
    width: 100%; height: 100%; border-radius: 50%;
    background: conic-gradient(#8b5cf6 var(--p), rgba(255,255,255,0.1) 0deg);
    mask: radial-gradient(transparent 55%, black 56%);
    -webkit-mask: radial-gradient(transparent 55%, black 56%);
    transition: --p 1s ease;
}
.goal-icon { position: absolute; color: #8b5cf6; font-size: 18px; }


/* ==================== 8. ØªØµÙ…ÙŠÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆÙ†Ø´Ø§Ø· Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø·ÙˆØ± ==================== */

.section-title-row {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;
}
.section-title-row h4 { margin: 0; font-size: 14px; font-weight: bold; color: #fff; }

/* 1. Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ø§Ù„Ù…ØµØºØ±Ø© (Horizontal Scroll) */
.mini-challenges-scroll {
    display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}
/* Ø¥Ø®ÙØ§Ø¡ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠ */
.mini-challenges-scroll::-webkit-scrollbar { display: none; }

.mini-challenge-card {
    min-width: 130px;
    background: linear-gradient(145deg, rgba(31, 41, 55, 0.8), rgba(17, 24, 39, 0.9));
    border: 1px solid rgba(16, 185, 129, 0.3); /* Ø¥Ø·Ø§Ø± Ø£Ø®Ø¶Ø± Ø®ÙÙŠÙ */
    border-radius: 14px;
    padding: 10px;
    display: flex; flex-direction: column; justify-content: space-between;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.mini-ch-title { font-size: 11px; font-weight: bold; color: #fff; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.mini-ch-progress { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; margin: 5px 0; }
.mini-ch-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.5s; }
.mini-ch-stats { font-size: 9px; color: var(--text-muted); display: flex; justify-content: space-between; }

/* 2. Ù†Ø´Ø§Ø· Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¯Ù…Ø¬ (Compact Feed) */
.feed-list-compact {
    display: flex; flex-direction: column; gap: 8px; /* Ù…Ø³Ø§ÙØ© Ø£Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ÙƒØ±ÙˆØª */
}
.feed-card-compact {
    background: rgba(255,255,255,0.03); /* Ø®Ù„ÙÙŠØ© Ø´ÙØ§ÙØ© Ø£ÙƒØ«Ø± */
    border-left: 3px solid var(--accent); /* Ø®Ø· Ù…Ù„ÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± Ù„Ù„ØªÙ…ÙŠÙŠØ² */
    border-radius: 8px; /* Ø­ÙˆØ§Ù Ø£Ù‚Ù„ Ø¯Ø§Ø¦Ø±ÙŠØ© */
    padding: 10px 12px;
    display: flex; align-items: center; justify-content: space-between;
}
.feed-compact-content { display: flex; align-items: center; gap: 10px; }
.feed-compact-avatar { 
    width: 30px; height: 30px; border-radius: 50%; background: #374151; 
    display: flex; align-items: center; justify-content: center; font-size: 10px; color: #fff; 
}
.feed-compact-text { font-size: 11px; color: #d1d5db; }
.feed-compact-text strong { color: #fff; }
.feed-compact-meta { font-size: 9px; color: var(--text-muted); display: block; }
.feed-compact-action { display: flex; align-items: center; gap: 5px; }
.feed-compact-btn { background: none; border: none; color: var(--text-muted); font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 3px; }
.feed-compact-btn.liked { color: #ef4444; }
.feed-compact-count { font-size: 9px; }


/* Comments System Styles */
.comments-scroll-area {
    flex: 1; /* ÙŠØ£Ø®Ø° Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…ØªØ§Ø­Ø© */
    overflow-y: auto;
    padding: 10px 0;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.comment-item {
    display: flex; gap: 10px;
    animation: fadeIn 0.2s ease;
}

.comment-avatar {
    width: 30px; height: 30px; border-radius: 50%;
    background: #374151; color: #fff; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; font-weight: bold;
    border: 1px solid rgba(255,255,255,0.1);
}

.comment-bubble {
    background: rgba(255,255,255,0.05);
    border-radius: 0 12px 12px 12px;
    padding: 8px 12px;
    max-width: 85%;
}
.comment-user { font-size: 11px; font-weight: bold; color: var(--primary); margin-bottom: 2px; display: block; }
.comment-msg { font-size: 13px; color: #e5e7eb; line-height: 1.4; word-break: break-word; }
.comment-time { font-size: 9px; color: var(--text-muted); display: block; margin-top: 4px; text-align: left; }

/* Ù…Ø±Ø¨Ø¹ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø³ÙÙ„ÙŠ */
.comment-input-area {
    display: flex; gap: 10px;
    padding-top: 10px;
    border-top: 1px solid rgba(255,255,255,0.1);
}
.comment-input-area input {
    flex: 1; padding: 12px; background: rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.1); border-radius: 25px;
    color: #fff; font-size: 14px;
}
.btn-send {
    width: 45px; height: 45px; border-radius: 50%;
    background: var(--primary); color: #000; border: none;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; box-shadow: 0 0 10px var(--primary-glow);
    transition: 0.2s;
}
.btn-send:active { transform: scale(0.9); }

/* Ø²Ø± Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙÙŠ Ø§Ù„ÙÙŠØ¯ */
.btn-comment {
    background: transparent; border: none; cursor: pointer;
    color: var(--text-muted); font-size: 14px;
    display: flex; align-items: center; gap: 4px; transition: 0.2s;
}
.btn-comment:hover { color: #fff; }


<div class="badges-section" style="margin-top: 20px;">
                    <h3 class="section-title">Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙŠ ğŸ–ï¸</h3>
                    <div id="badges-grid" class="badges-grid">
                        <div style="text-align:center; width:100%; color:#6b7280; font-size:12px;">Ø¬Ø§Ø±ÙŠ ØªÙ„Ù…ÙŠØ¹ Ø§Ù„ÙƒØ¤ÙˆØ³...</div>
                    </div>
                </div>

/* ==================== Ø¥ØµÙ„Ø§Ø­ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª (Badges) ==================== */
.badges-section {
    padding: 0 5px;
}

.badges-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 ÙÙŠ Ø§Ù„ØµÙ */
    gap: 12px;
    background: rgba(255,255,255,0.03);
    padding: 15px;
    border-radius: 16px;
    border: 1px solid var(--border);
    margin-top: 10px;
}

.badge-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 10px 5px;
    border-radius: 12px;
    background: rgba(255,255,255,0.02);
    transition: all 0.3s ease;
    min-height: 80px;
}

/* Ø­Ø§Ù„Ø© Ø§Ù„Ù‚ÙÙ„ (ØªØ¸Ù‡Ø± Ø¨Ø§Ù‡ØªØ© ÙˆØ±Ù…Ø§Ø¯ÙŠØ©) */
.badge-item.locked {
    opacity: 0.3;
    filter: grayscale(100%);
    transform: scale(0.9);
}

/* Ø­Ø§Ù„Ø© Ø§Ù„ÙØªØ­ (Ù…Ù„ÙˆÙ†Ø© ÙˆÙ…Ø¶ÙŠØ¦Ø©) */
.badge-item.unlocked {
    opacity: 1;
    filter: grayscale(0%);
    transform: scale(1);
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.3);
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.2);
}

.badge-icon {
    font-size: 24px;
    margin-bottom: 8px;
    display: block;
}

.badge-name {
    font-size: 10px;
    color: #e5e7eb;
    font-weight: bold;
    line-height: 1.3;
}


/* ==================== 1. ØªØµÙ…ÙŠÙ… Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¡ (Bib Card) ==================== */
.bib-card {
    background: linear-gradient(135deg, #f3f4f6, #d1d5db); /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© Ù…Ø«Ù„ Ø§Ù„ÙˆØ±Ù‚ */
    color: #111827; /* Ù†Øµ Ø¯Ø§ÙƒÙ† Ù„Ù„ØªØ¨Ø§ÙŠÙ† */
    border-radius: 8px;
    padding: 15px;
    position: relative;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    margin-bottom: 20px;
    overflow: hidden;
}

/* Ø«Ù‚ÙˆØ¨ Ø§Ù„ØªØ«Ø¨ÙŠØª (Visual Flair) */
.bib-hole {
    position: absolute; top: 10px; width: 12px; height: 12px;
    background: var(--bg-dark); border-radius: 50%;
    border: 2px solid rgba(0,0,0,0.1);
}
.bib-hole.top-left { left: 10px; }
.bib-hole.top-right { right: 10px; }

.bib-content { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-top: 10px; }

.bib-main { display: flex; align-items: center; gap: 12px; }
.bib-avatar {
    width: 50px; height: 50px; border-radius: 50%;
    background: #111827; color: #fff;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px; font-weight: 900; border: 2px solid var(--primary);
}

.bib-info h2 { margin: 0; font-size: 18px; font-weight: 900; letter-spacing: -0.5px; }
.bib-region { font-size: 12px; font-weight: bold; color: #4b5563; text-transform: uppercase; letter-spacing: 1px; }

/* Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµØºÙŠØ± */
.btn-tiny-edit {
    background: none; border: none; color: #6b7280; cursor: pointer; font-size: 14px;
}

/* Ø±Ù‚Ù… Ø§Ù„Ø³Ø¨Ø§Ù‚ (Ø§Ù„Ø±ØªØ¨Ø©) */
.bib-rank-box { text-align: center; transform: rotate(-5deg); border: 2px solid #111827; padding: 2px 8px; border-radius: 4px; }
.bib-label { display: block; font-size: 8px; font-weight: bold; letter-spacing: 1px; }
.bib-number { font-size: 16px; font-weight: 900; font-family: monospace; }

/* ÙÙˆØªØ± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª) */
.bib-footer {
    display: flex; justify-content: space-around;
    border-top: 2px dashed #9ca3af;
    padding-top: 10px;
}
.bib-stat { display: flex; flex-direction: column; align-items: center; }
.bib-stat .val { font-size: 16px; font-weight: 800; color: #000; }
.bib-stat .lbl { font-size: 10px; color: #4b5563; font-weight: bold; }


/* ==================== 2. ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ (CSS Charts) ==================== */
.chart-container {
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 15px;
    height: 160px;
    display: flex;
    align-items: flex-end; /* Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
    justify-content: space-between;
}

.bar-chart {
    width: 100%; height: 100%;
    display: flex; justify-content: space-between; align-items: flex-end;
    gap: 8px;
}

.chart-column {
    display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
    flex: 1; height: 100%;
}

.bar-bg {
    width: 100%; max-width: 20px;
    background: rgba(255,255,255,0.05);
    border-radius: 4px;
    height: 100%;
    display: flex; align-items: flex-end;
    overflow: hidden;
    position: relative;
}

.bar-fill {
    width: 100%;
    background: linear-gradient(to top, var(--primary), #34d399);
    border-radius: 4px;
    transition: height 1s ease;
    min-height: 4px; /* Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¨Ø§Ø± Ø­ØªÙ‰ Ù„Ùˆ ØµÙØ± */
}

/* ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø¨Ø§Ø± Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© */
.bar-fill.high { background: linear-gradient(to top, #10b981, #059669); } /* Ø£Ø®Ø¶Ø± Ù‚ÙˆÙŠ */
.bar-fill.med { background: linear-gradient(to top, #f59e0b, #d97706); } /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
.bar-fill.low { background: linear-gradient(to top, #6b7280, #4b5563); } /* Ø±Ù…Ø§Ø¯ÙŠ */

.bar-label {
    font-size: 9px; color: var(--text-muted); margin-top: 6px;
}
.bar-tooltip {
    font-size: 9px; color: #fff; margin-bottom: 4px; font-weight: bold;
}


/* ==================== 11. Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø·ÙˆØ± ÙˆØ§Ù„Ø£ÙØ§ØªØ§Ø± ==================== */

/* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙØ§ØªØ§Ø± ÙÙŠ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨ÙŠØ¨ */
.bib-avatar {
    font-size: 28px !important; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ */
    background: rgba(0,0,0,0.2) !important;
    border: 2px solid rgba(255,255,255,0.1) !important;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
}

/* Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¬Ù…Ø¹ (Log 2.0) */
.log-group {
    margin-bottom: 15px;
}

.log-month-header {
    font-size: 11px;
    color: var(--primary);
    background: rgba(16, 185, 129, 0.1);
    padding: 5px 10px;
    border-radius: 6px;
    margin-bottom: 8px;
    display: inline-block;
    font-weight: bold;
}

.log-row-compact {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255,255,255,0.03);
    border-bottom: 1px solid rgba(255,255,255,0.05);
    padding: 12px 10px;
    border-radius: 8px;
    margin-bottom: 6px;
    transition: 0.2s;
    position: relative;
    overflow: hidden;
}
.log-row-compact:active { background: rgba(255,255,255,0.08); }

/* Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ù„Ù…Ø³Ø§ÙØ© */
.log-col-main { display: flex; align-items: center; gap: 10px; flex: 2; }
.log-type-icon {
    width: 32px; height: 32px; border-radius: 50%;
    background: rgba(59, 130, 246, 0.1); color: #3b82f6;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px;
}
.log-dist-val { font-size: 15px; font-weight: 800; color: #fff; }
.log-dist-unit { font-size: 10px; color: var(--text-muted); }

/* Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„ */
.log-col-meta { flex: 2; display: flex; flex-direction: column; align-items: flex-start; }
.log-date-text { font-size: 11px; color: #e5e7eb; }
.log-pace-text { font-size: 10px; color: var(--text-muted); }

/* Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª */
.log-col-actions { display: flex; gap: 8px; }
.btn-mini-action {
    width: 28px; height: 28px; border-radius: 50%; border: none;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; font-size: 14px; transition: 0.2s;
}
.btn-edit { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
.btn-del { background: rgba(239, 68, 68, 0.1); color: #ef4444; }

/* Ø´Ø§Ø±Ø§Øª Ø§Ù„ØªÙ…ÙŠØ² (Best Run) */
.badge-record {
    position: absolute; top: 0; left: 0;
    background: linear-gradient(90deg, #f59e0b, #d97706);
    color: #fff; font-size: 8px; padding: 2px 6px;
    border-bottom-right-radius: 6px; font-weight: bold;
}

/* ØªØ«Ø¨ÙŠØª Ø®Ù„ÙÙŠØ© Ø§Ù„Ø£ÙØ§ØªØ§Ø± Ù„ØªÙƒÙˆÙ† Ø¯Ø§ÙƒÙ†Ø© ÙˆÙˆØ§Ø¶Ø­Ø© */
.bib-avatar {
    background-color: #111827 !important; /* Ù„ÙˆÙ† Ø¯Ø§ÙƒÙ† Ù‚ÙˆÙŠ */
    color: #ffffff !important; /* Ø§Ù„Ù†Øµ/Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø£Ø¨ÙŠØ¶ */
    border: 2px solid var(--primary) !important; /* Ø¥Ø·Ø§Ø± Ù…Ù„ÙˆÙ† */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2) !important;
}
/* ==================== 12. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© (Share Card) ==================== */

/* Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø®ÙÙŠ (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹) */
.share-card-template {
    position: fixed; top: -9999px; left: -9999px; /* Ø¥Ø®ÙØ§Ø¡ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© */
    width: 320px; height: 500px; /* Ø£Ø¨Ø¹Ø§Ø¯ Ø³ØªÙˆØ±ÙŠ Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù… Ù…ØµØºØ±Ø© */
    background: linear-gradient(135deg, #0f172a, #1e293b);
    border-radius: 20px;
    padding: 25px;
    display: flex; flex-direction: column; justify-content: space-between;
    font-family: 'Tajawal', sans-serif;
    color: #fff;
    overflow: hidden;
    z-index: 9999;
}

/* ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙˆÙ‡Ø¬ Ø§Ù„Ø®Ù„ÙÙŠ */
.share-bg-glow {
    position: absolute; top: -50px; right: -50px;
    width: 200px; height: 200px;
    background: var(--primary);
    filter: blur(80px); opacity: 0.2;
    border-radius: 50%;
}

.share-logo-area {
    display: flex; align-items: center; gap: 10px;
    font-weight: 900; font-size: 14px; letter-spacing: 2px;
    color: var(--primary);
}
.share-logo { height: 30px; width: auto; }

.share-user {
    display: flex; align-items: center; gap: 10px; margin-bottom: 30px;
}
.share-avatar {
    width: 50px; height: 50px; border-radius: 50%;
    background: rgba(255,255,255,0.1); border: 2px solid var(--primary);
    display: flex; align-items: center; justify-content: center; font-size: 24px;
}
.share-user-info h3 { margin: 0; font-size: 18px; }
.share-user-info span { font-size: 12px; color: #9ca3af; text-transform: uppercase; }

.share-stat-box { text-align: center; margin: 20px 0; }
.share-label { font-size: 14px; color: #9ca3af; text-transform: uppercase; letter-spacing: 2px; }
.share-value-row { display: flex; align-items: baseline; justify-content: center; gap: 5px; }
.share-num { font-size: 80px; font-weight: 900; line-height: 1; color: #fff; text-shadow: 0 0 20px rgba(16, 185, 129, 0.5); }
.share-unit { font-size: 20px; font-weight: bold; color: var(--primary); }

.share-details {
    display: flex; justify-content: space-around;
    background: rgba(255,255,255,0.05);
    padding: 15px; border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
}
.s-det-item { display: flex; flex-direction: column; align-items: center; font-size: 12px; color: #d1d5db; }
.s-det-item i { font-size: 18px; color: var(--primary); margin-bottom: 5px; }

.share-footer {
    text-align: center; font-size: 10px; color: #64748b; letter-spacing: 3px; text-transform: uppercase; margin-top: auto;
}

/* Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„ */
.btn-share { background: rgba(139, 92, 246, 0.15); color: #8b5cf6; }


/* ==================== 13. ØªØµÙ…ÙŠÙ… Ø§Ù„ÙƒÙˆØªØ´ Ø§Ù„Ø°ÙƒÙŠ (Smart Coach) ==================== */
.coach-card {
    background: linear-gradient(135deg, #2563eb, #1d4ed8); /* Ø£Ø²Ø±Ù‚ Ù…Ù„ÙƒÙŠ */
    border-radius: 16px;
    padding: 15px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    border: 1px solid rgba(255,255,255,0.1);
    position: relative;
    overflow: hidden;
}

/* Ø²Ø®Ø±ÙØ© Ø®Ù„ÙÙŠØ© Ø®ÙÙŠÙØ© */
.coach-card::after {
    content: ''; position: absolute; top: -10px; right: -10px;
    width: 60px; height: 60px; background: rgba(255,255,255,0.1);
    border-radius: 50%;
}

.coach-icon {
    width: 45px; height: 45px;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px; color: #fff;
    flex-shrink: 0;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.coach-content { flex: 1; z-index: 1; }

.coach-label {
    font-size: 10px; color: #bfdbfe; 
    text-transform: uppercase; letter-spacing: 1px; font-weight: bold;
    display: block; margin-bottom: 4px;
}

.coach-message {
    font-size: 13px; color: #fff; 
    line-height: 1.4; font-weight: 500; margin: 0;
}




/* ==================== 14. ØªØµÙ…ÙŠÙ… Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ (Leaderboard 2.0) ==================== */

/* ÙƒØ§Ø±Øª Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±ÙŠÙ‚ (Ø§Ù„Ø£Ø¹Ù„Ù‰) */
.team-goal-card {
    background: linear-gradient(135deg, #1f2937, #111827);
    border: 1px solid rgba(245, 158, 11, 0.3); /* Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ Ø®ÙÙŠÙ */
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    margin-bottom: 25px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    position: relative; overflow: hidden;
}
/* Ø®Ù„ÙÙŠØ© Ø²Ø®Ø±ÙÙŠØ© Ù„Ù„ÙƒØ£Ø³ */
.team-goal-card::before {
    content: 'ğŸ†'; position: absolute; top: -10px; right: -10px;
    font-size: 80px; opacity: 0.05; transform: rotate(20deg);
}

.team-title { font-size: 12px; color: #f59e0b; font-weight: bold; margin-bottom: 5px; }
.team-val { font-size: 42px; font-weight: 900; color: #fff; line-height: 1; text-shadow: 0 0 20px rgba(245, 158, 11, 0.4); }

.team-goal-labels { display: flex; justify-content: space-between; font-size: 10px; color: #6b7280; margin-top: 8px; }

/* Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ (Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„Ø«Ù„Ø§Ø«Ø©) */
.podium-section {
    margin-bottom: 30px;
    text-align: center;
}
.podium-title { font-size: 14px; font-weight: bold; color: #fff; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 8px; }

.podium-container {
    display: flex;
    justify-content: center;
    align-items: flex-end; /* Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
    gap: 15px;
}

.podium-item {
    display: flex; flex-direction: column; align-items: center;
    position: relative; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.podium-item:active { transform: scale(0.95); }

/* Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© */
.podium-avatar {
    border-radius: 50%;
    background: #374151;
    display: flex; align-items: center; justify-content: center;
    font-weight: 900; color: #fff;
    border: 3px solid #4b5563;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„ ğŸ¥‡ */
.podium-item.rank-1 { order: 2; margin-bottom: 20px; } /* Ù†Ø±ÙØ¹Ù‡ Ù„Ù„Ø£Ø¹Ù„Ù‰ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
.podium-item.rank-1 .podium-avatar {
    width: 80px; height: 80px; font-size: 32px;
    border-color: #f59e0b; /* Ø°Ù‡Ø¨ÙŠ */
    box-shadow: 0 0 25px rgba(245, 158, 11, 0.4);
    background: linear-gradient(135deg, #111827, #f59e0b);
}
.crown-icon {
    position: absolute; top: -25px; font-size: 28px;
    animation: bounce 2s infinite; filter: drop-shadow(0 0 5px #f59e0b);
}

/* Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø«Ø§Ù†ÙŠ ğŸ¥ˆ */
.podium-item.rank-2 { order: 1; }
.podium-item.rank-2 .podium-avatar {
    width: 60px; height: 60px; font-size: 24px;
    border-color: #9ca3af; /* ÙØ¶ÙŠ */
}

/* Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø«Ø§Ù„Ø« ğŸ¥‰ */
.podium-item.rank-3 { order: 3; }
.podium-item.rank-3 .podium-avatar {
    width: 60px; height: 60px; font-size: 24px;
    border-color: #b45309; /* Ø¨Ø±ÙˆÙ†Ø²ÙŠ */
}

.podium-name { font-size: 11px; font-weight: bold; color: #fff; margin-top: 8px; max-width: 70px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.podium-dist { font-size: 12px; font-weight: 900; color: var(--primary); }

@keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }

/* ==================== 14. ØªØµÙ…ÙŠÙ… Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ (Leaderboard 2.0) ==================== */

/* ÙƒØ§Ø±Øª Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±ÙŠÙ‚ (Ø§Ù„Ø£Ø¹Ù„Ù‰) */
.team-goal-card {
    background: linear-gradient(135deg, #1f2937, #111827);
    border: 1px solid rgba(245, 158, 11, 0.3); /* Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ Ø®ÙÙŠÙ */
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    margin-bottom: 25px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    position: relative; overflow: hidden;
}
/* Ø®Ù„ÙÙŠØ© Ø²Ø®Ø±ÙÙŠØ© Ù„Ù„ÙƒØ£Ø³ */
.team-goal-card::before {
    content: 'ğŸ†'; position: absolute; top: -10px; right: -10px;
    font-size: 80px; opacity: 0.05; transform: rotate(20deg);
}

.team-title { font-size: 12px; color: #f59e0b; font-weight: bold; margin-bottom: 5px; }
.team-val { font-size: 42px; font-weight: 900; color: #fff; line-height: 1; text-shadow: 0 0 20px rgba(245, 158, 11, 0.4); }

.team-goal-labels { display: flex; justify-content: space-between; font-size: 10px; color: #6b7280; margin-top: 8px; }

/* Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ (Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„Ø«Ù„Ø§Ø«Ø©) */
.podium-section {
    margin-bottom: 30px;
    text-align: center;
}
.podium-title { font-size: 14px; font-weight: bold; color: #fff; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 8px; }

.podium-container {
    display: flex;
    justify-content: center;
    align-items: flex-end; /* Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
    gap: 15px;
}

.podium-item {
    display: flex; flex-direction: column; align-items: center;
    position: relative; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.podium-item:active { transform: scale(0.95); }

/* Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© */
.podium-avatar {
    border-radius: 50%;
    background: #374151;
    display: flex; align-items: center; justify-content: center;
    font-weight: 900; color: #fff;
    border: 3px solid #4b5563;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„ ğŸ¥‡ */
.podium-item.rank-1 { order: 2; margin-bottom: 20px; } /* Ù†Ø±ÙØ¹Ù‡ Ù„Ù„Ø£Ø¹Ù„Ù‰ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
.podium-item.rank-1 .podium-avatar {
    width: 80px; height: 80px; font-size: 32px;
    border-color: #f59e0b; /* Ø°Ù‡Ø¨ÙŠ */
    box-shadow: 0 0 25px rgba(245, 158, 11, 0.4);
    background: linear-gradient(135deg, #111827, #f59e0b);
}
.crown-icon {
    position: absolute; top: -25px; font-size: 28px;
    animation: bounce 2s infinite; filter: drop-shadow(0 0 5px #f59e0b);
}

/* Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø«Ø§Ù†ÙŠ ğŸ¥ˆ */
.podium-item.rank-2 { order: 1; }
.podium-item.rank-2 .podium-avatar {
    width: 60px; height: 60px; font-size: 24px;
    border-color: #9ca3af; /* ÙØ¶ÙŠ */
}

/* Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø«Ø§Ù„Ø« ğŸ¥‰ */
.podium-item.rank-3 { order: 3; }
.podium-item.rank-3 .podium-avatar {
    width: 60px; height: 60px; font-size: 24px;
    border-color: #b45309; /* Ø¨Ø±ÙˆÙ†Ø²ÙŠ */
}

.podium-name { font-size: 11px; font-weight: bold; color: #fff; margin-top: 8px; max-width: 70px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.podium-dist { font-size: 12px; font-weight: 900; color: var(--primary); }

@keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }

/* ==================== ØªØ­Ø³ÙŠÙ† ÙÙ„ØªØ± Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† (Big Toggle) ==================== */
.leaderboard-controls {
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px dashed rgba(255,255,255,0.1); /* Ø®Ø· ÙØ§ØµÙ„ Ù…Ù†Ù‚Ø· */
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.leaderboard-controls h4 {
    font-size: 16px; 
    color: #fff; 
    margin: 0;
    display: flex; align-items: center; gap: 8px;
}

/* ØªØµÙ…ÙŠÙ… Ø´Ø±ÙŠØ· Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙƒØ¨ÙŠØ± */
.filter-large-toggle {
    display: flex;
    background: #111827; /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© */
    padding: 5px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
    position: relative;
    overflow: hidden;
}

.filter-large-toggle .filter-btn {
    flex: 1;
    padding: 12px;
    font-size: 14px;
    font-weight: 500;
    color: #9ca3af;
    border: none;
    background: transparent;
    border-radius: 8px;
    transition: all 0.3s ease;
    display: flex; align-items: center; justify-content: center; gap: 6px;
}

/* Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø²Ø± */
.filter-large-toggle .filter-btn.active {
    background: var(--primary); /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„Ù…Ù…ÙŠØ² */
    color: #000;
    font-weight: 800;
    box-shadow: 0 2px 10px var(--primary-glow);
}

.filter-large-toggle .filter-btn:active {
    transform: scale(0.97);
}

/* Loading Spinner */
.loader-btn {
    display: inline-block;
    width: 12px; height: 12px;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 50%;
    border-top-color: #fff;
    animation: spin 1s ease-in-out infinite;
    margin-left: 8px;
}
@keyframes spin { to { transform: rotate(360deg); } }


/* ==================== 16. ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ù…Ù†Ø§Ø·Ù‚ (Revolutionary UI) ğŸ¨ ==================== */

/* --- 1. ØªØµÙ…ÙŠÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª (Mission Cards) --- */
.challenges-grid {
    display: flex; flex-direction: column; gap: 15px; padding-bottom: 20px;
}

.mission-card {
    position: relative;
    background: linear-gradient(135deg, rgba(31, 41, 55, 0.9), rgba(17, 24, 39, 0.95));
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 16px;
    padding: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
    transition: transform 0.3s ease;
}
.mission-card:active { transform: scale(0.98); }

/* Ø®Ù„ÙÙŠØ© Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù…Ø§Ø¦ÙŠØ© */
.mission-bg-icon {
    position: absolute; left: -20px; bottom: -20px;
    font-size: 100px; opacity: 0.05; color: #fff;
    transform: rotate(15deg); pointer-events: none;
}

.mission-header {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 15px; position: relative; z-index: 2;
}
.mission-title { font-size: 18px; font-weight: 800; color: #fff; margin: 0; }
.mission-meta { font-size: 12px; color: var(--accent); display: flex; gap: 10px; margin-top: 5px; }

.mission-target-badge {
    background: rgba(59, 130, 246, 0.1); color: #3b82f6;
    padding: 4px 10px; border-radius: 20px; font-weight: bold; font-size: 12px;
    border: 1px solid rgba(59, 130, 246, 0.2);
}

/* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ø´Ø¹ */
.mission-progress-container {
    height: 8px; background: rgba(255,255,255,0.05); border-radius: 10px;
    margin: 15px 0 10px; overflow: hidden; position: relative;
}
.mission-progress-bar {
    height: 100%; background: linear-gradient(90deg, #3b82f6, #60a5fa);
    border-radius: 10px; box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
    transition: width 1s ease;
}
.mission-stats {
    display: flex; justify-content: space-between; font-size: 12px; color: #9ca3af;
}

/* Ø²Ø± Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… */
.btn-join-mission {
    width: 100%; padding: 12px; border-radius: 12px;
    background: linear-gradient(90deg, #10b981, #059669);
    color: #fff; border: none; font-weight: bold; margin-top: 10px;
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
    cursor: pointer; position: relative; z-index: 2;
}

/* ==================== V36: ÙƒØ±ÙˆØª Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© ==================== */

.squad-list {
    display: flex; flex-direction: column; gap: 15px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© */
    padding-bottom: 30px;
}

.squad-row {
    position: relative;
    background: #1f2937;
    border: 1px solid rgba(255,255,255,0.05);
    border-radius: 16px; /* ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø­ÙˆØ§Ù Ø£ÙƒØ«Ø± */
    padding: 15px;
    display: flex; flex-direction: column; /* ØªØ­ÙˆÙŠÙ„ Ù„Ø¹Ù…ÙˆØ¯ Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
    gap: 10px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3); /* Ø¸Ù„ Ù„Ù„ÙØµÙ„ */
    transition: transform 0.2s;
}

/* Ø§Ù„Ø±Ø£Ø³: Ø§Ù„ØªØ±ØªÙŠØ¨ ÙˆØ§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ */
.squad-header {
    display: flex; align-items: center; justify-content: space-between;
    position: relative; z-index: 2; width: 100%;
}

.squad-rank {
    width: 28px; height: 28px;
    display: flex; align-items: center; justify-content: center;
    font-weight: 800; font-size: 13px;
    border-radius: 6px; background: rgba(255,255,255,0.1); color: #9ca3af;
}

.squad-name-box { flex: 1; margin-right: 12px; }
.squad-name-box h4 { margin: 0; font-size: 16px; color: #fff; display: flex; align-items: center; gap: 5px; }
.squad-total-badge { 
    background: rgba(16, 185, 129, 0.1); color: var(--primary);
    padding: 4px 8px; border-radius: 6px; font-weight: 800; font-size: 14px;
}

/* Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³ÙÙ„ÙŠ (Ø§Ù„Ø¬Ø¯ÙŠØ¯) */
.squad-stats-row {
    display: flex; align-items: center; gap: 15px;
    font-size: 11px; color: #9ca3af;
    padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.05);
    position: relative; z-index: 2;
}
.stat-item { display: flex; align-items: center; gap: 4px; }
.stat-item i { color: var(--accent); }

/* Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø´Ø±ÙŠØ·ÙŠØ© */
.squad-bg-bar {
    position: absolute; top: 0; left: 0; bottom: 0;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), transparent);
    z-index: 0; transition: width 1.5s ease-out;
}

/* --- Ø§Ù„ØªÙ…ÙŠÙŠØ² Ù„Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø£ÙˆÙ„Ù‰ --- */
.squad-row.rank-1 { border: 1px solid #f59e0b; box-shadow: 0 0 15px rgba(245, 158, 11, 0.15); }
.squad-row.rank-1 .squad-rank { background: #f59e0b; color: #000; }
.squad-row.rank-1 .squad-total-badge { background: #f59e0b; color: #000; }

.squad-row.rank-2 { border-right: 4px solid #9ca3af; }
.squad-row.rank-3 { border-right: 4px solid #cd7f32; }




/* ==================== V1.3 Offline Banner ==================== */
.offline-banner {
    position: fixed;
    top: -50px; /* Ù…Ø®ÙÙŠ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
    left: 0;
    width: 100%;
    background-color: #ef4444; /* Ø£Ø­Ù…Ø± */
    color: white;
    text-align: center;
    padding: 8px;
    font-size: 12px;
    font-weight: bold;
    z-index: 9999;
    transition: top 0.3s ease-in-out;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.offline-banner.active {
    top: 0; /* ÙŠØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ */
}



/* ==================== V1.4 Install Button Animation ==================== */
.install-pulse {
    animation: pulse-glow 2s infinite;
    border: 1px solid var(--primary);
}

@keyframes pulse-glow {
    0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); transform: scale(1); }
    70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); transform: scale(1.05); }
    100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); transform: scale(1); }
}

/* ==================== V1.5 Skeleton Loading ==================== */

/* 1. ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø­Ø±ÙƒØ© (Ø§Ù„Ù„Ù…Ø¹Ø§Ù†) */
@keyframes shimmer {
    100% { transform: translateX(100%); }
}

.skeleton {
    position: relative;
    overflow: hidden;
    background-color: rgba(255, 255, 255, 0.05); /* Ù„ÙˆÙ† Ø±Ù…Ø§Ø¯ÙŠ Ø®Ø§ÙØª */
    border-radius: 8px;
}

/* 2. Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ù„Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
.skeleton::after {
    content: '';
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    transform: translateX(-100%);
    background-image: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0) 0,
        rgba(255, 255, 255, 0.05) 20%,
        rgba(255, 255, 255, 0.1) 60%,
        rgba(255, 255, 255, 0)
    );
    animation: shimmer 2s infinite;
}

/* 3. ØªØµÙ…ÙŠÙ… Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† (Ù…Ø«Ù„ Ø§Ù„Ø¬Ø¯ÙˆÙ„) */
.sk-leader-row {
    display: flex; align-items: center; gap: 10px;
    padding: 12px; margin-bottom: 8px;
    background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px solid var(--border);
}
.sk-circle { width: 36px; height: 36px; border-radius: 50%; }
.sk-line { height: 10px; border-radius: 4px; margin-bottom: 5px; }
.sk-line.short { width: 40%; }
.sk-line.long { width: 80%; }

/* 4. ØªØµÙ…ÙŠÙ… Ù‡ÙŠÙƒÙ„ Ø§Ù„ÙÙŠØ¯ (Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª) */
.sk-feed-card {
    padding: 15px; margin-bottom: 10px;
    background: var(--bg-card); border-radius: 16px; border: 1px solid var(--border);
}
.sk-header { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }

/* 5. ØªØµÙ…ÙŠÙ… Ù‡ÙŠÙƒÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª */
.sk-challenge-card {
    height: 100px; margin-bottom: 15px; border-radius: 16px;
    background: rgba(31, 41, 55, 0.5); border: 1px solid var(--border);
}

/* ==================== V2.0 Custom Toasts ==================== */
.toast-container {
    position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
    display: flex; flex-direction: column; gap: 10px; z-index: 9999;
    width: 90%; max-width: 350px; pointer-events: none;
}

.toast {
    background: rgba(17, 24, 39, 0.95);
    color: #fff; padding: 12px 16px; border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    display: flex; align-items: center; gap: 12px;
    font-size: 13px; font-weight: 500;
    animation: slideUpFade 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    pointer-events: auto; backdrop-filter: blur(10px);
}

.toast.success { border-right: 4px solid #10b981; }
.toast.error { border-right: 4px solid #ef4444; }
.toast i { font-size: 18px; }
.toast.success i { color: #10b981; }
.toast.error i { color: #ef4444; }

@keyframes slideUpFade {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeOut { to { opacity: 0; transform: translateY(-10px); } }


/* ==================== V1.7 Hero Card Update ==================== */

/* 1. ØªØ­Ø³ÙŠÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„ÙƒØ§Ø±Øª */
.stats-card {
    background: linear-gradient(145deg, #1f2937 0%, #111827 100%);
    border: 1px solid rgba(255,255,255,0.05);
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
    position: relative;
    overflow: hidden;
}

/* Ø¥Ø¶Ø§ÙØ© Ù„Ù…Ø¹Ø© Ø®ÙÙŠÙØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© */
.stats-card::before {
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: radial-gradient(circle, rgba(16, 185, 129, 0.05) 0%, transparent 60%);
    pointer-events: none;
}

/* 2. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¨Ø§Ø± (Ø§Ù„Ù…Ø¤Ø´Ø±) Ù„ÙŠØµØ¨Ø­ Ù…Ø¶ÙŠØ¦Ø§Ù‹ */
.progress-track {
    background: rgba(255, 255, 255, 0.1) !important; /* Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ÙØ§ØªØ­ */
    border-radius: 10px;
    height: 8px !important;
    overflow: hidden;
    margin: 15px 0 5px 0;
}

.progress-fill {
    /* ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ Ù…Ù† Ø§Ù„Ø£Ø®Ø¶Ø± Ù„Ù„Ø£Ø²Ø±Ù‚ Ø§Ù„ÙØ§ØªØ­ */
    background: linear-gradient(90deg, var(--primary) 0%, #34d399 100%);
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); /* ÙˆÙ‡Ø¬ (Glow) */
    border-radius: 10px;
    height: 100%;
    transition: width 1s ease-in-out;
}

/* 3. Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³ÙÙ„ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
.stats-footer-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.mini-stat {
    text-align: center;
    flex: 1;
}

.mini-stat span {
    display: block;
    font-size: 10px;
    color: #9ca3af;
    margin-bottom: 2px;
}

.mini-stat strong {
    display: block;
    font-size: 14px;
    color: #fff;
    font-weight: 700;
}

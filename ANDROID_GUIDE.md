# دليل بناء تطبيق الأندرويد (ERS Android Build Guide)

هذا الدليل يشرح خطوات تحويل الموقع الحالي إلى تطبيق أندرويد حقيقي (Native APK) باستخدام Capacitor.

## متطلبات التشغيل (هام جداً!)
1.  **Android Studio (ضروري)**: هذا البرنامج هو "المصنع" الذي سيحول الكود إلى ملف APK ومسؤول عن تنزيله على موبايلك.
    - [تحميل Android Studio من هنا](https://developer.android.com/studio) (حجمه حوالي 1 جيجا).
    - قم بتثبيته واختار "Standard Install".
2.  **Node.js**: تأكد من تثبيته (من موقع nodejs.org).

## الخطوات (Command Line)

افتح الـ CMD (وليس PowerShell لتجنب مشاكل الصلاحيات) في مجلد المشروع ونفذ الأوامر التالية:

### 1. تثبيت المكتبات (مرة واحدة فقط)
```cmd
npm install
```
*هذا الأمر سيقوم بتحميل Capacitor والمكاتب اللازمة بناءً على ملف `package.json` الذي قمت بإنشائه لك.*

### 2. تجهيز الأندرويد (مرة واحدة فقط)
```cmd
npx capacitor add android
```
*هذا سينشئ مجلد `android` يحتوي على مشروع أندرويد كامل.*

### 3. مزامنة التعديلات (كلما عدلت في الموقع)
كلما قمت بتعديل ملفات HTML/CSS/JS، يجب تنفيذ هذا الأمر لنقل التعديلات لملفات الأندرويد:
```cmd
npx capacitor sync
```

### 4. فتح المشروع في Android Studio
```cmd
npx capacitor open android
```
*سيفتح برنامج Android Studio. من هناك يمكنك:*
1.  توصيل موبايلك بالـ USB.
2.  الضغط على زر التشغيل "Run" (المثلث الأخضر).
3.  سيتم تثبيت التطبيق على هاتفك كتطبيق رسمي!

## ميزات التطبيق (Native Features)
لقد قمت بإضافة ملف `js/native-bridge.js` الذي يقوم تلقائياً باكتشاف ما إذا كان التطبيق يعمل على الأندرويد، ويقوم بتفعيل الميزات التالية:
- **GPS في الخلفية**: تتبع الموقع حتى لو الشاشة مغلقة.
- **Full Screen**: إخفاء أشرطة المتصفح.
- **Keep Awake**: منع الشاشة من الانطفاء أثناء الجري (اختياري).
